(this["webpackJsonpit-cum"]=this["webpackJsonpit-cum"]||[]).push([[0],{11:function(e,t,a){e.exports={nav:"Nav_nav__2l-YZ",item:"Nav_item__2Rd6k",activeLink:"Nav_activeLink__1Wz63",friends:"Nav_friends__16uo1",friends_title:"Nav_friends_title__2u-iV",avatar:"Nav_avatar__2DmmW"}},15:function(e,t,a){e.exports={content:"Profile_content__2zZGs",avatar:"Profile_avatar__27k2E",profile_status:"Profile_profile_status__2e73m",info:"Profile_info__2itnr",contacts:"Profile_contacts__1a2qS",item:"Profile_item__Uhc4u"}},156:function(e,t,a){e.exports=a(283)},161:function(e,t,a){},162:function(e,t,a){},25:function(e,t,a){e.exports={d_flex:"Users_d_flex__2BebI",users_wrapper:"Users_users_wrapper__2rr0L",users_block:"Users_users_block__3Sl-Z",avatar:"Users_avatar___s0pW",avatar_block:"Users_avatar_block__1RWWx",general_info:"Users_general_info__2-DKS",status:"Users_status__13eJz",countryName:"Users_countryName__10nKC",page:"Users_page__2mKcR",pagination:"Users_pagination__33Qwc",selected:"Users_selected__3w-2q"}},26:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__3i6Ij",dialogs_item:"Dialogs_dialogs_item__32k6Q",item:"Dialogs_item__Yd-kV",active:"Dialogs_active__29h-a",messages:"Dialogs_messages__1dMiD",message_item:"Dialogs_message_item__2ceay"}},27:function(e,t,a){e.exports={formControl:"FormsControl_formControl__1ZwPZ",error:"FormsControl_error__2Zkz5"}},282:function(e,t,a){},283:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(64),i=a.n(o),s=(a(161),a(21)),c=a(22),l=a(23),u=a(24),m=(a(162),a(33)),f=function(e){return r.a.createElement("div",null,"News")},d=function(e){return r.a.createElement("div",null,"Music")},p=function(e){return r.a.createElement("div",null,"Settings")},g=a(37),E=a(9),_={dialogsData:[{id:1,name:"Dimych"},{id:2,name:"Maks"},{id:3,name:"Taras"}],messagesData:[{id:1,message:"Hello"},{id:2,message:"How is you name ?"},{id:3,message:"Yo"}]},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return Object(E.a)({},e,{messagesData:[].concat(Object(g.a)(e.messagesData),[{id:100*Math.random(),message:t.text}])});default:return e}},h=a(26),b=a.n(h),O=Object(m.f)((function(e){return r.a.createElement("div",{className:b.a.message_item,key:e.id},e.message)})),P=a(10),w=function(e){return r.a.createElement("div",{className:b.a.item,key:e.name+Math.random()+1},r.a.createElement(P.b,{to:"/dialogs/"+e.id,activeClassName:b.a.active},e.name))},N=a(123),j=a(124),S=a(92),y=a(27),k=a.n(y),C=function(e){var t=e.input,a=e.meta,n=Object(S.a)(e,["input","meta"]),o=a.touched&&a.error;return r.a.createElement("div",null,r.a.createElement("div",{className:k.a.formControl+" "+(o?k.a.error:"")},r.a.createElement("textarea",Object.assign({},t,n))),r.a.createElement("div",{className:k.a.formControl+" "+(o?k.a.error:"")},o&&r.a.createElement("span",null,a.error)))},D=function(e){var t=e.input,a=e.meta,n=Object(S.a)(e,["input","meta"]),o=a.touched&&a.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:k.a.formControl+" "+(o?k.a.error:"")},r.a.createElement("input",Object.assign({},t,n))),r.a.createElement("div",{className:k.a.formControl+" "+(o?k.a.error:"")},o&&r.a.createElement("span",null,a.error)))},A=function(e,t,a,n,o){return r.a.createElement(N.a,{type:o,name:n,placeholder:e,validate:t,component:a})},L=function(e){if(!e)return"Field is Required"},x=function(e){return function(t){if(t&&t.length>e)return"Must be ".concat(e," characters or less")}},M=function(e){return function(t){if(t&&t.length<e)return"Must be ".concat(e," characters or more")}},I=x(50),U=Object(j.a)({form:"addMessage"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(N.a,{placeholder:"textarea",name:"newMessage",component:C,validate:[L,I],cols:"40",rows:"5"}),r.a.createElement("button",null,"Send"))})),T=function(e){var t=e.dialogsPage;return r.a.createElement("div",{className:b.a.dialogs},r.a.createElement("div",{className:b.a.dialogs_item},t.dialogsData.map((function(e){return w(e)}))),r.a.createElement("div",{className:b.a.messages},t.messagesData.map((function(e){return O(e)}))),r.a.createElement(U,{onSubmit:function(t){var a=t.newMessage;e.addMessage(a)}}))},F=a(8),R=a(5),z=function(e){return e.dialogsPage},W=Object(R.d)(Object(F.b)((function(e){return{dialogsPage:z(e)}}),(function(e){return{addMessage:function(t){return e(function(e){return{type:"ADD_MESSAGE",text:e}}(t))}}})),(function(e){var t=function(t){Object(u.a)(n,t);var a=Object(l.a)(n);function n(){return Object(s.a)(this,n),a.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(m.a,{to:"/login"})}}]),n}(r.a.Component);return Object(F.b)((function(e){return{isAuth:e.authProfile.isAuth}}))(t)}))(T),J=a(11),G=a.n(J),H=function(e){return r.a.createElement("nav",{className:G.a.nav},r.a.createElement("div",{className:G.a.item},r.a.createElement(P.b,{to:"/profile",activeClassName:G.a.activeLink},"Profile")),r.a.createElement("div",{className:G.a.item},r.a.createElement(P.b,{to:"/dialogs",activeClassName:G.a.activeLink},"Messages")),r.a.createElement("div",{className:G.a.item},r.a.createElement(P.b,{to:"/news",activeClassName:G.a.activeLink},"News")),r.a.createElement("div",{className:G.a.item},r.a.createElement(P.b,{to:"/music",activeClassName:G.a.activeLink},"Music")),r.a.createElement("div",{className:G.a.item},r.a.createElement(P.b,{to:"/settings",activeClassName:G.a.activeLink},"Settings")),r.a.createElement("div",{className:G.a.item},r.a.createElement(P.b,{to:"/users",activeClassName:G.a.activeLink},"Users")),r.a.createElement("h2",{className:G.a.friends_title},"Friends:"),r.a.createElement("div",{className:G.a.friends},e.sidebar.friends.map((function(e){return r.a.createElement("div",{className:G.a.friends_item,key:e.id+e.name},r.a.createElement("div",{className:G.a.avatar,key:e.id},r.a.createElement("img",{src:"https://img.pngio.com/png-avatar-108-images-in-collection-page-3-png-avatar-300_300.png",alt:""})),r.a.createElement("p",null,e.name))}))))},q=Object(F.b)((function(e){return{sidebar:e.sidebar}}))(H),B=a(25),Z=a.n(B),V=a(68),Y=a.n(V),K=a(55),X=a(45),Q=a.n(X),$=function(e){for(var t=e.pagesInArray,a=void 0===t?10:t,o=e.totalItemsCount,i=e.pageSize,s=e.selectPage,c=e.selectedPage,l=Math.ceil(o/i),u=[],m=1;m<=l;m++)u.push(m);var f=Math.ceil(l/a),d=Object(n.useState)(1),p=Object(K.a)(d,2),g=p[0],E=p[1];Object(n.useEffect)((function(){E(g)}),[]);var _=(g-1)*a+1,v=g*a,h=u.filter((function(e){return e>=_&&e<=v}));return r.a.createElement("div",{className:Q.a.pagination},g>1?r.a.createElement("div",{className:Q.a.prevPagesArr,onClick:function(){E(g-1)}},"<<"):null,h.map((function(e,t){return r.a.createElement("span",{onClick:function(){return s(e)},className:(c===e?Q.a.selected+" ":"")+Q.a.page,key:t}," ",e," ")})),f>g?r.a.createElement("div",{className:Q.a.nextPagesArr,onClick:function(){E(g+1)}},">>"):null)},ee=function(e){console.log("render");var t=e.selectPage,a=e.selectedPage,n=e.pageSize,o=e.totalItemsCount,i=e.users;return r.a.createElement("div",{className:Z.a.users_wrapper},r.a.createElement($,{pageSize:n,selectPage:t,selectedPage:a,pagesInArray:10,totalItemsCount:o}),i.map((function(t){return r.a.createElement("div",{className:Z.a.users_block,key:t.id},r.a.createElement("div",{className:Z.a.avatar_block},r.a.createElement(P.b,{to:"profile/"+t.id},r.a.createElement("img",{className:Z.a.avatar,src:null!=t.photos.small?t.photos.small:Y.a,alt:""})),t.followed?r.a.createElement("button",{disabled:e.isFollowing.some((function(e){return e===t.id})),onClick:function(){return e.unfollow(t.id)}},"UnFollow"):r.a.createElement("button",{disabled:e.isFollowing.some((function(e){return e===t.id})),onClick:function(){return e.follow(t.id)}},"Follow")),r.a.createElement("div",{className:Z.a.general_info},r.a.createElement("div",null,r.a.createElement("div",{className:Z.a.fullName},t.name),r.a.createElement("div",{className:Z.a.status},t.status)),r.a.createElement("div",{className:"location"},r.a.createElement("div",{className:Z.a.cityName},"user.location.city"),r.a.createElement("div",{className:Z.a.countryName},"user.location.country"))))})))},te=a(7),ae=a.n(te),ne=a(13),re=a(129).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"401d6721-3ffd-4885-b318-da9979dd55a0"}}),oe=function(e){return re.post("follow/".concat(e))},ie=function(e){return re.delete("follow/".concat(e))},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return re.get("users?page=".concat(e,"&count=").concat(t))},ce=function(e){return re.get("profile/".concat(e)).then((function(e){return e.data}))},le=function(e){var t=new FormData;return t.append("image",e),re.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},ue=function(e){return console.log("formData",e),re.put("profile",{formData:e})},me=function(e){return re.get("/profile/status/".concat(e)).then((function(e){return e.data}))},fe=function(e){return re.put("profile/status",{status:e})},de=function(){return re.get("auth/me").then((function(e){return e.data}))},pe=function(e,t,a){return re.post("/auth/login",{email:e,password:t,rememberMe:a})},ge=function(){return re.delete("/auth/login")},Ee=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(E.a)({},e,{},n):e}))},_e={users:[],pageSize:50,totalUsersCount:0,selectedPage:1,isLoading:!0,isFollowing:[]},ve=function(e){return{type:"FOLLOW",userId:e}},he=function(e){return{type:"UNFOLLOW",userId:e}},be=function(e){return{type:"SET_USERS",users:e}},Oe=function(e){return{type:"TOTAL_COUNT",count:e}},Pe=function(e){return{type:"SET_CURRENT_PAGE",selectedPage:e}},we=function(e){return{type:"IS_LOADING",types:e}},Ne=function(e,t){return{type:"IS_FOLLOWING",is_following:e,userId:t}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(E.a)({},e,{users:Ee(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(E.a)({},e,{users:Ee(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(E.a)({},e,{users:Object(g.a)(t.users)});case"TOTAL_COUNT":return Object(E.a)({},e,{totalUsersCount:t.count});case"SET_CURRENT_PAGE":return Object(E.a)({},e,{selectedPage:t.selectedPage});case"IS_LOADING":return Object(E.a)({},e,{isLoading:t.types});case"IS_FOLLOWING":return Object(E.a)({},e,{isFollowing:t.is_following?[].concat(Object(g.a)(e.isFollowing),[t.userId]):e.isFollowing.filter((function(e){return e!==t.userId}))});default:return e}},Se=(a(282),function(){return r.a.createElement("div",{className:"loader_wrapper"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),ye=function(e){return e.usersPage.users},ke=function(e){return e.usersPage.pageSize},Ce=function(e){return e.usersPage.totalUsersCount},De=function(e){return e.usersPage.selectedPage},Ae=function(e){return e.usersPage.isLoading},Le=function(e){return e.usersPage.isFollowing},xe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).selectPage=function(t){e.props.requestUsers(t,e.props.pageSize)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.selectedPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isLoading?r.a.createElement(Se,null):r.a.createElement(ee,{selectPage:this.selectPage,isFollowing:this.props.isFollowing,follow:this.props.follow,unfollow:this.props.unfollow,selectedPage:this.props.selectedPage,pageSize:this.props.pageSize,users:this.props.users,totalItemsCount:this.props.totalUsersCount,getUsers:this.props.requestUsers}))}}]),a}(n.Component),Me=Object(R.d)(Object(F.b)((function(e){return{users:ye(e),pageSize:ke(e),totalUsersCount:Ce(e),selectedPage:De(e),isLoading:Ae(e),isFollowing:Le(e)}}),{follow:function(e){return function(){var t=Object(ne.a)(ae.a.mark((function t(a){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Ne(!0,e)),t.next=3,oe(e);case 3:0===t.sent.data.resultCode&&a(ve(e)),a(Ne(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(ne.a)(ae.a.mark((function t(a){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Ne(!0,e)),t.next=3,ie(e);case 3:0===t.sent.data.resultCode&&a(he(e)),a(Ne(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},total_count:Oe,is_loading:we,is_following:Ne,requestUsers:function(e,t){return function(){var a=Object(ne.a)(ae.a.mark((function a(n){var r;return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(we(!0)),n(Pe(e)),a.next=4,se(e,t);case 4:r=a.sent,n(be(r.data.items)),n(Oe(r.data.totalCount)),n(we(!1));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}))(xe),Ie=a(15),Ue=a.n(Ie),Te=function(e){var t=Object(n.useState)(!1),a=Object(K.a)(t,2),o=a[0],i=a[1],s=Object(n.useState)(e.status),c=Object(K.a)(s,2),l=c[0],u=c[1];Object(n.useEffect)((function(){u(e.status)}),[e.status]);return r.a.createElement("div",{className:Ue.a.profile_status},o?r.a.createElement("input",{autoFocus:!0,onBlur:function(){i(!1),e.updateStatus(l)},onChange:function(e){return function(e){var t=e.target.value;u(t)}(e)},value:l,type:"text"}):r.a.createElement("div",{onDoubleClick:function(){i(!0)}},l||"-----"))},Fe=Object(j.a)({form:"profileEditor"})((function(e){var t=e.profile,a=e.handleSubmit;return r.a.createElement("form",{onSubmit:a,className:Ue.a.info},r.a.createElement("button",null,"Save"),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,"Full name "),": ",A("Full name",[L],D,"fullName","text")),r.a.createElement("div",null,r.a.createElement("b",null,"About me "),": ",A("About me",[],C,"aboutMe","text")),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job "),": ",A("",[],D,"lookingForAJob","checkbox")),r.a.createElement("div",null,r.a.createElement("b",null,"LookingForAJobDescription : "),A("About my professional skills",[],C,"lookingForAJobDescription","text"))),r.a.createElement("div",{className:Ue.a.contacts},r.a.createElement("b",null,"Contacts "),": ",Object.keys(t.contacts).map((function(e){return r.a.createElement("div",{className:Ue.a.item},r.a.createElement("i",null,e),": ",t.contacts[e],A(e,[],D,"contacts."+e,"text"))}))))})),Re=function(e){var t=e.profile,a=e.updateStatus,n=e.status,o=e.editMode,i=e.onEditMode,s=e.updateProfileData,c=e.updateProfilePhoto,l=e.isOwner;return r.a.createElement("div",null,r.a.createElement("div",{className:"".concat(Ue.a.avatar)},r.a.createElement("img",{src:t.photos.large?t.photos.large:Y.a,alt:""}),l&&r.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length>0&&c(e.target.files[0])}}),r.a.createElement(Te,{updateStatus:a,status:n})),o?r.a.createElement(Fe,{initialValues:t,profile:t,onSubmit:function(e){console.log(e),s(e),i(!1)}}):r.a.createElement("div",{className:Ue.a.info},r.a.createElement("button",{onClick:function(){i(!0)}},"Edit"),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,"Full name "),": ",t.fullName),r.a.createElement("div",null,r.a.createElement("b",null,"About me "),": ",t.aboutMe),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job "),": ",t.lookingForAJob?"Yes":"No"),t.lookingForAJob&&r.a.createElement("div",null,r.a.createElement("b",null,"lookingForAJobDescription "))),r.a.createElement("div",{className:Ue.a.contacts},r.a.createElement("b",null,"Contacts "),": ",Object.keys(t.contacts).map((function(e){return r.a.createElement("div",{className:Ue.a.item},r.a.createElement("i",null,e),": ",t.contacts[e])})))))},ze={postsData:[{id:1,message:"First post",likeCount:12},{id:1,message:"Hey hey hey",likeCount:9},{id:1,message:"Yo",likeCount:34}],profile:null,formEditMode:!1,status:""},We=function(e){return function(){var t=Object(ne.a)(ae.a.mark((function t(a){var n;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce(e);case 2:n=t.sent,a(Ge(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Je=function(e){return{type:"SET_STATUS",status:e}},Ge=function(e){return{type:"SET_USER_PROFILE",profile:e}},He=function(e){return{type:"SET_PROFILE_PHOTO",photos:e}},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var a={id:100*Math.random(),message:t.text,likeCount:0};return Object(E.a)({},e,{postsData:[].concat(Object(g.a)(e.postsData),[a])});case"DELETE_POST":return Object(E.a)({},e,{postsData:e.postsData.filter((function(e){return e.id!=t.postId}))});case"SET_USER_PROFILE":return Object(E.a)({},e,{profile:t.profile});case"SET_STATUS":return Object(E.a)({},e,{status:t.status});case"FORM_EDIT_MODE":return Object(E.a)({},e,{formEditMode:t.payload});case"SET_PROFILE_PHOTO":return Object(E.a)({},e,{profile:Object(E.a)({},e.profile,{photos:t.photos})});default:return e}},Be=a(44),Ze=a.n(Be),Ve=function(e){return r.a.createElement("div",{className:Ze.a.postItem},e.posts.map((function(e){return r.a.createElement("div",{className:"".concat(Ze.a.avatar," ").concat(Ze.a.item),key:Math.random()+e.id},r.a.createElement("img",{src:"https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80",alt:""}),e.message,r.a.createElement("span",null," liks "),r.a.createElement("span",null,e.likeCount))})))},Ye=M(5),Ke=function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(N.a,{placeholder:"textarea",name:"newPost",component:C,validate:[Ye],cols:"40",rows:"5"}),r.a.createElement("button",null,"Send"))},Xe=r.a.memo((function(e){var t=e.profilePage,a=Object(j.a)({form:"profilePost"})(Ke);return r.a.createElement("div",null,r.a.createElement("h3",null,"My posts"),r.a.createElement("div",{className:Ze.a.new_post_block},r.a.createElement(a,{onSubmit:function(t){e.addPost(t.newPost)}})),r.a.createElement(Ve,{posts:t.postsData}))})),Qe=Object(F.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){return e(function(e){return{type:"ADD_POST",text:e}}(t))}}}))(Xe),$e=function(e){var t=e.profile,a=e.onEditMode,n=e.formEditMode,o=e.updateStatus,i=e.status,s=e.updateProfileData,c=e.updateProfilePhoto,l=e.isOwner;return t?r.a.createElement("div",{className:Ue.a.content},r.a.createElement(Re,{updateProfileData:s,profile:t,onEditMode:a,updateStatus:o,status:i,editMode:n,updateProfilePhoto:c,isOwner:l}),r.a.createElement(Qe,null)):r.a.createElement(Se,null)},et=function(e){return e.profilePage.profile},tt=function(e){return e.profilePage.status},at=function(e){return e.authProfile.id},nt=function(e){return e.authProfile.isAuth},rt=function(e){return e.profilePage.formEditMode},ot=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).refreshProfile=function(){var t=e.props.match.params.id;t||(t=e.props.userId)||e.props.history.push("/login"),e.props.getProfileInfo(t),e.props.getProfileStatus(t)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.id!=e.match.params.id&&this.refreshProfile()}},{key:"render",value:function(){var e=this.props,t=e.profile,a=e.onEditMode,n=e.updateStatus,o=e.status,i=e.getProfile,s=e.formEditMode,c=e.updateProfileData,l=e.updateProfilePhoto,u=!this.props.match.params.id;return r.a.createElement($e,Object.assign({},this.props,{updateProfileData:c,profile:t,onEditMode:a,formEditMode:s,updateStatus:n,status:o,getProfile:i,updateProfilePhoto:l,isOwner:u}))}}]),a}(n.Component),it=Object(R.d)(Object(F.b)((function(e){return{profile:et(e),status:tt(e),userId:at(e),isAuth:nt(e),formEditMode:rt(e)}}),{setUserProfile:Ge,getProfileInfo:We,getProfileStatus:function(e){return function(){var t=Object(ne.a)(ae.a.mark((function t(a){var n;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me(e);case 2:n=t.sent,a(Je(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(ne.a)(ae.a.mark((function t(a){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe(e);case 2:0===t.sent.data.resultCode&&a(Je(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},onEditMode:function(e){return{type:"FORM_EDIT_MODE",payload:e}},updateProfileData:function(e){return console.log("IN",e),function(){var t=Object(ne.a)(ae.a.mark((function t(a,n){var r,o;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().authProfile.id,console.log("userId",r),t.next=4,ue(e);case 4:0===(o=t.sent).data.resultCode?(console.log("YES",o),a(We(r))):console.log("NO!!!",o);case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},updateProfilePhoto:function(e){return function(){var t=Object(ne.a)(ae.a.mark((function t(a){var n;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le(e);case 2:0===(n=t.sent).data.resultCode&&a(He(n.data.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),m.f)(ot),st=a(91),ct=a.n(st),lt=function(e){return r.a.createElement("header",{className:ct.a.header},r.a.createElement(P.b,{to:"/profile"},r.a.createElement("img",{src:"http://logok.org/wp-content/uploads/2014/05/Total-logo-earth-1024x768.png",alt:""})),r.a.createElement("div",{className:ct.a.auth_block},e.authProfile.isAuth?r.a.createElement("div",null,e.authProfile.login," - ",r.a.createElement("div",{onClick:function(){e.userLogout()}}," Log out")):r.a.createElement(P.b,{to:"/login"},"Login")))},ut=a(30),mt={id:null,email:null,login:null,isAuth:!1},ft=function(){return function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a,n,r,o,i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:0===(a=e.sent).resultCode&&(n=a.data,r=n.id,o=n.email,i=n.login,t(dt(r,o,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},dt=function(e,t,a,n){return{type:"SET_AUTH_USER_DATA",data:{id:e,email:t,login:a,isAuth:n}}},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER_DATA":return Object(E.a)({},e,{},t.data);default:return e}},gt={initialized:!1},Et=function(){return function(e){e(ft()).then((function(){e(_t())}))}},_t=function(){return{type:"INITIALIZED_SUCCESS"}},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(E.a)({},e,{initialized:!0});default:return e}},ht=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(lt,Object.assign({},this.props,{userLogout:this.props.userLogout,authProfile:this.props.authProfile}))}}]),a}(n.Component),bt=Object(F.b)((function(e){return{authProfile:e.authProfile}}),{initializeApp:Et,auth:ft,userLogout:function(){return function(){var e=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:0===e.sent.data.resultCode&&t(dt(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ht),Ot=a(38),Pt=a.n(Ot),wt=x(20),Nt=M(6),jt=Object(j.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:Pt.a.login_form},r.a.createElement("div",{className:Pt.a.form_group},A("Email",[L,wt,Nt],"Input","Email","text")),r.a.createElement("div",{className:Pt.a.form_group},A("Password",[L,wt,Nt],"Input","Password","password")),r.a.createElement("div",{className:Pt.a.form_group},A(null,[],"input","rememberMe","checkbox")),e.error?r.a.createElement("div",{className:Pt.a.formError},e.error):null,r.a.createElement("button",{className:Pt.a.btn},"Login"))})),St=Object(F.b)((function(e){return{isAuth:e.authProfile.isAuth}}),{userLogin:function(e,t,a){return function(){var n=Object(ne.a)(ae.a.mark((function n(r){var o;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,pe(e,t,a);case 2:0===(o=n.sent).data.resultCode?r(ft()):r(Object(ut.a)("login",{_error:o.data.messages[0]}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return e.isAuth?r.a.createElement(m.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"LOGIN"),r.a.createElement(jt,{setUserLogin:e.userLogin,onSubmit:function(t){var a=t.Email,n=t.Password,r=t.rememberMe;e.userLogin(a,n,r)}}))})),yt=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(bt,null),r.a.createElement(q,null),r.a.createElement("div",{className:"content"},r.a.createElement(m.b,{path:"/profile/:id?",render:function(){return r.a.createElement(it,null)}}),r.a.createElement(m.b,{path:"/dialogs",render:function(){return r.a.createElement(W,null)}}),r.a.createElement(m.b,{path:"/users",component:Me}),r.a.createElement(m.b,{path:"/news",component:f}),r.a.createElement(m.b,{path:"/music",component:d}),r.a.createElement(m.b,{path:"/settings",component:p}),r.a.createElement(m.b,{path:"/login",component:St}))):r.a.createElement(Se,null)}}]),a}(n.Component),kt=Object(R.d)(m.f,Object(F.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:Et}))(yt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ct={friends:[{id:1,name:"Andry"},{id:2,name:"Maks"},{id:3,name:"Alex"}]},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct;arguments.length>1&&arguments[1];return e},At=a(125),Lt=Object(R.c)({dialogsPage:v,profilePage:qe,sidebar:Dt,usersPage:je,authProfile:pt,form:At.a,app:vt}),xt=a(130),Mt="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):R.d,It=Object(R.e)(Lt,Mt(Object(R.a)(xt.a)));window.store=It;var Ut=It;i.a.render(r.a.createElement(P.a,null,r.a.createElement(F.a,{store:Ut},r.a.createElement(kt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},38:function(e,t,a){e.exports={login_form:"Login_login_form__3wDop",btn:"Login_btn__ZoWax",formError:"Login_formError__27NTQ"}},44:function(e,t,a){e.exports={new_post_block:"MyPosts_new_post_block__2BBXl",avatar:"MyPosts_avatar__M76tK",item:"MyPosts_item__2_tPA",postItem:"MyPosts_postItem__3-JhB"}},45:function(e,t,a){e.exports={page:"Pagination_page__1Ba5I",pagination:"Pagination_pagination__1KkdA",selected:"Pagination_selected__dtL8e",prevPagesArr:"Pagination_prevPagesArr__2C8V7",nextPagesArr:"Pagination_nextPagesArr__22fRS"}},68:function(e,t,a){e.exports=a.p+"static/media/631929649c.945f33b6.png"},91:function(e,t,a){e.exports={header:"Header_header__1MOL-",auth_block:"Header_auth_block__3qiUV"}}},[[156,1,2]]]);
//# sourceMappingURL=main.4bf766d5.chunk.js.map